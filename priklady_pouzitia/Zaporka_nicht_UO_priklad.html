<!doctype html>
<html lang="sk">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Použitie záporky nicht vo vetách</title>
<style>
  body {
    font-family: 'Consolas', Courier, monospace; 
    display:flex; flex-direction:column; align-items:center; justify-content:flex-start; 
    padding:20px; background-color: #f4f4f4; color: #333;
  }
  h1, h2, h3 { margin: 5px 0; text-align: center; }
  .header-info { text-align: center; margin-bottom: 20px; width: 100%; max-width: 800px; }
  .input-group { margin: 10px 0; display: flex; justify-content: center; gap: 10px; align-items: center; }
  .input-group input { padding: 8px; font-size: 1rem; border: 1px solid #ccc; border-radius: 4px; width: 250px; }
  
  .card {
    width:100%; max-width:1400px; min-height:550px; 
    display:flex; flex-direction:column; 
    border-radius:12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    background:#fff; overflow: hidden;
    margin-bottom: 20px;
  }
  
  .question-area {
    flex: 1;
    padding: 30px;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    min-height: 300px;
  }
  
  .item { 
    font-size: 6.5rem; 
    line-height: 1.1; 
    text-align:center; 
    font-weight: bold; 
    word-break: break-word; 
  }
  
  .teacher-zone {
    background-color: #f0f0f0; 
    padding: 20px;
    border-top: 4px solid #ccc; 
    display: flex; flex-direction: column; align-items: center; gap: 10px;
    box-shadow: inset 0 2px 5px rgba(0,0,0,0.05);
  }
  
  .teacher-buttons { display: flex; gap: 20px; justify-content: center; flex-wrap: wrap; margin-bottom: 5px; }
  .eval-btn {
    padding: 12px 18px; font-size: 1rem; cursor: pointer; border: 2px solid #ccc; border-radius: 8px; background: #fff; transition: all 0.2s; font-weight:600;
  }
  .eval-btn:hover { background: #e9e9e9; }
  
  .eval-btn.correct.active { background-color: #d4edda; border-color: #28a745; color: #155724; box-shadow: 0 0 8px rgba(40, 167, 69, 0.4); } 
  .eval-btn.incorrect.active { background-color: #f8d7da; border-color: #dc3545; color: #721c24; box-shadow: 0 0 8px rgba(220, 53, 69, 0.4); } 
  .eval-btn.missing.active { background-color: #ffeeba; border-color: #ffc107; color: #856404; box-shadow: 0 0 8px rgba(255, 193, 7, 0.4); } 
  
  .nav-bar {
    background-color: #ffffff;
    padding: 15px;
    display: flex; justify-content: space-between; align-items: center;
    border-top: 10px solid #e2e2e2;
  }
  
  .numbers { display: flex; gap: 8px; flex-wrap: wrap; justify-content: center; }
  .num-btn {
    width: 40px; height: 40px; border: 1px solid #999; border-radius: 4px; background: #fff; cursor: pointer; font-weight: bold; font-size: 1.1rem;
  }
  .num-btn.current { border: 3px solid #333; }
  .num-btn.visited { background-color: #cce5ff; border-color: #004085; }
  
  .next-btn {
    padding: 10px 24px; font-size: 1.1rem; background: #333; color: #fff; border: none; border-radius: 4px; cursor: pointer;
  }
  .next-btn:hover { background: #555; }

  .finish-btn {
    padding: 12px 24px; font-size: 1.2rem; background-color: #28a745; color: white; border: none; border-radius: 6px; cursor: pointer; margin-top: 20px;
    display: none;
  }
  .finish-btn:hover { background-color: #218838; }

  /* Results Section */
  #results-container { display: none; width: 100%; max-width: 800px; background: white; padding: 30px; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
  .result-block { margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 15px; }
  .detail-btn { background: #007bff; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; }
  .hidden-details { display: none; margin-top: 20px; padding: 15px; background: #f9f9f9; border-radius: 4px; }
  
  @media print {
    body { background: white; padding: 0; }
    .card, .finish-btn, .header-info { display: none !important; }
    #results-container { display: block !important; box-shadow: none; border: none; width: 100%; max-width: 100%; }
    .no-print { display: none !important; }
    .hidden-details { display: block !important; }
  }
  
  @media (max-width: 800px) {
    .item { font-size: 4rem; } 
  }
</style>
</head>
<body>

  <div class="header-info">
    <h1>Použitie záporky nicht vo vetách</h1>
    <h3>Mgr. Erika Matyiová (2026)</h3>
    <div class="input-group">
      <label for="studentName">Meno žiaka:</label>
      <input type="text" id="studentName" placeholder="Zadajte meno">
    </div>
    <p>Počet úloh: <b>10</b></p>
  </div>

  <div id="quiz-interface">
    <h2>Vytvor z uvedených viet vety so záporkou <u>nicht</u>.</h2>
    <p style="text-align:center; margin-bottom: 15px;">Po ústnej odpovedi počkaj na vyhodnotenie učiteľa a potom klikni na ďalšie číslo otázky alebo na tlačidlo <b>Ďalej</b>.</p>
    
    <div class="card">
      <div class="question-area">
        <div id="display" class="item"></div>
      </div>
      
      <div class="teacher-zone">
        <span style="font-size:0.9rem; font-weight:bold; color:#444; text-transform:uppercase; letter-spacing:1px;">Zóna pre učiteľa</span>
        <div class="teacher-buttons">
          <button class="eval-btn correct" onclick="setAnswer('correct')">Žiakovo riešenie bolo správne</button>
          <button class="eval-btn incorrect" onclick="setAnswer('incorrect')">Žiakovo riešenie bolo nesprávne</button>
          <button class="eval-btn missing" onclick="setAnswer('missing')">Žiak neuviedol riešenie</button>
        </div>
      </div>

      <div class="nav-bar">
        <div style="width:140px;"></div>
        
        <div id="numberButtons" class="numbers"></div>
        
        <div style="width:140px; display:flex; justify-content:flex-end;">
          <button id="btnNext" class="next-btn">Ďalej &rarr;</button>
        </div>
      </div>
    </div>
    
    <div style="text-align:center;">
       <button id="finishBtn" class="finish-btn">Vyhodnotiť</button>
    </div>
  </div>

  <div id="results-container">
    <h2>Výsledky testu</h2>
    <div id="summary"></div>
    <button class="detail-btn no-print" onclick="toggleDetails()">Detailné výsledky</button>
    <div id="details" class="hidden-details"></div>
    <div style="margin-top:20px; text-align:center;" class="no-print">
      <button onclick="window.print()" style="padding:10px 20px; cursor:pointer;">Tlačiť (Ctrl + P)</button>
      <button onclick="location.reload()" style="padding:10px 20px; cursor:pointer; margin-left:10px;">Nový test</button>
    </div>
  </div>

  <script>
    const DB = [`Er heißt Jürgen.`,`Wir lernen Englisch.`,`Peter fehlt.`,`Ich bin hungrig.`,`Das ist richtig.`,`Das ist Hans.`,`Manfred wohnt in Berlin.`,`Monika spielt Gitarre.`,`Ilse ist 10 Jahre alt.`,`Wilhelm ist hier.`];
    const TARGET_COUNT = 10;
    
    function shuffle(a){ for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]];} return a; }
    
    let sequence = [];
    if(DB.length > 0) {
       const copy = DB.slice();
       shuffle(copy);
       sequence = copy.slice(0, Math.min(TARGET_COUNT, DB.length));
    }

    let currentIndex = 0;
    let answers = new Array(sequence.length).fill(null);

    const display = document.getElementById('display');
    const numberButtonsContainer = document.getElementById('numberButtons');
    const btnNext = document.getElementById('btnNext');
    const btnFinish = document.getElementById('finishBtn');
    
    const btnsEval = {
      correct: document.querySelector('.eval-btn.correct'),
      incorrect: document.querySelector('.eval-btn.incorrect'),
      missing: document.querySelector('.eval-btn.missing')
    };

    function updateUI(){
      display.innerHTML = (currentIndex + 1) + ". " + sequence[currentIndex];

      numberButtonsContainer.innerHTML = '';
      sequence.forEach((_, i) => {
        const btn = document.createElement('button');
        btn.textContent = (i+1);
        btn.className = 'num-btn';
        if(i === currentIndex) btn.classList.add('current');
        if(answers[i] !== null) btn.classList.add('visited');
        
        btn.onclick = () => {
          currentIndex = i;
          updateUI();
        };
        numberButtonsContainer.appendChild(btn);
      });

      Object.values(btnsEval).forEach(b => b.classList.remove('active'));
      const status = answers[currentIndex];
      if(status === 'correct') btnsEval.correct.classList.add('active');
      if(status === 'incorrect') btnsEval.incorrect.classList.add('active');
      if(status === 'missing') btnsEval.missing.classList.add('active');

      if(currentIndex === sequence.length - 1) {
        btnNext.style.visibility = 'hidden';
        btnFinish.style.display = 'inline-block';
      } else {
        btnNext.style.visibility = 'visible';
        btnFinish.style.display = 'none';
      }
    }

    window.setAnswer = function(status) {
      answers[currentIndex] = status;
      updateUI();
    };

    btnNext.addEventListener('click', function(){
      if(currentIndex < sequence.length - 1){
        currentIndex++;
        updateUI();
      }
    });

    btnFinish.addEventListener('click', function(){
       showResults();
    });

    function showResults() {
      document.querySelector('.header-info').style.display = 'none';
      document.getElementById('quiz-interface').style.display = 'none';
      document.getElementById('results-container').style.display = 'block';

      const total = sequence.length;
      let correct = 0;
      let incorrect = 0;
      let missing = 0;
      
      answers.forEach(a => {
        if(a === 'correct') correct++;
        else if(a === 'incorrect') incorrect++;
        else missing++;
      });
      
      const score = correct;
      const percent = total > 0 ? Math.round((correct / total) * 100) : 0;
      
      const studentName = document.getElementById('studentName').value || 'Neznáme meno';
      const now = new Date();
      const dateStr = now.toLocaleDateString('sk-SK');
      const timeStr = now.toLocaleTimeString('sk-SK', {hour: '2-digit', minute:'2-digit'});

      const summaryHTML = `
        <div class="result-block">
          <p><strong>Názov ústneho testu:</strong> Použitie záporky nicht vo vetách</p>
          <p><strong>Meno žiaka:</strong> ${studentName}</p>
          <p><strong>Počet bodov:</strong> ${score}/${total}</p>
          <p><strong>Počet percent:</strong> ${percent}%</p>
          <p><strong>Dátum:</strong> ${dateStr}</p>
          <p><strong>Čas:</strong> ${timeStr}</p>
        </div>
      `;
      document.getElementById('summary').innerHTML = summaryHTML;

      const detailsHTML = `
        <h3>Detailné výsledky</h3>
        <p><strong>Meno žiaka:</strong> ${studentName}</p>
        <p><strong>Počet bodov:</strong> ${score}/${total}</p>
        <p><strong>Počet percent:</strong> ${percent}%</p>
        <p><strong>Dátum:</strong> ${dateStr}</p>
        <p><strong>Čas:</strong> ${timeStr}</p>
        <hr>
        <p style="color:green;"><strong>Počet zadaní so správnym riešením:</strong> ${correct}</p>
        <p style="color:red;"><strong>Počet zadaní s nesprávnym riešením:</strong> ${incorrect}</p>
        <p style="color:orange;"><strong>Počet zadaní s neuvedeným riešením:</strong> ${missing}</p>
      `;
      document.getElementById('details').innerHTML = detailsHTML;
    }

    window.toggleDetails = function() {
      const el = document.getElementById('details');
      if(el.style.display === 'none' || el.style.display === '') {
        el.style.display = 'block';
      } else {
        el.style.display = 'none';
      }
    };

    updateUI();

  </script>
  <br>
  <div class="no-print" style="text-align:center; color:#777; font-size:0.8rem;">
    <b>Spracovala pomocou UI:</b> Mgr. Erika Matyiová (2025)
  </div>
</body>
</html>
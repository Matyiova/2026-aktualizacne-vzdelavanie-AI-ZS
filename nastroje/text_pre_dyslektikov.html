<!DOCTYPE html>
<html lang="sk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Editor textu pre dyslektikov</title>
  <link href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/antijingoist/open-dyslexic/webkit/css/OpenDyslexic.css">
  <style>
    body {
      margin: 0;
      padding: 24px;
      background: #f8fafc;
      font-family: Courier bold, monospace;
      color: #0f172a;
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
    }

    .editor-wrap {
      background: #fff;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 1px 2px rgba(0,0,0,0.05);
    }

    .toolbar {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      padding: 8px;
      background: #f3f4f6;
      border-bottom: 1px solid #d1d5db;
    }

    .group {
      display: flex;
      gap: 4px;
    }

    .tool {
      padding: 6px 10px;
      font-size: 14px;
      background: #fff;
      border: 1px solid #d1d5db;
      border-radius: 4px;
      cursor: pointer;
    }

    .tool:hover {
      background: #e5e7eb;
    }

    .editor {
      min-height: 240px;
      padding: 16px;
      font-size: 16px;
      line-height: 1.5;
      outline: none;
      white-space: pre-wrap;
      word-break: break-word;
    }

    .actions {
      margin-top: 16px;
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    button {
      padding: 10px 14px;
      font-size: 14px;
      border-radius: 6px;
      cursor: pointer;
    }

    #btn-bigger, #btn-dys, #btn-clear {
      background: #fff;
      border: 1px solid #d1d5db;
    }

    #btn-pdf {
      background: #111827;
      color: #fff;
      border: none;
    }

    .dyslexic .editor {
      font-family: "OpenDyslexic3", "OpenDyslexic", "Atkinson Hyperlegible", sans-serif;
      letter-spacing: 0.02em;
      line-height: 1.6;
    }

   @media print {
  body {
    background: #fff;
  }

  .toolbar,
  .actions,
  h1,
  label,
  select,
  #btn-clear {
    display: none !important;
  }

  .editor-wrap {
    border: none !important;
    box-shadow: none !important;
    padding: 0 !important;
  }

  .editor {
    font-size: 14pt;
    padding: 0 !important;
    border: none !important;
    box-shadow: none !important;
  }
}

  </style>
</head>
<body>
  <div class="container">
    <h1>Editor textu pre dyslektikov</h1>

    <div id="root" class="editor-wrap">
      <div class="toolbar">
        <div class="group">
          <button class="tool" data-format="bold">B</button>
          <button class="tool" data-format="italic">I</button>
          <button class="tool" data-format="underline">U</button>
        </div>
        <div class="group">
          <button class="tool" data-cmd="align-left">←</button>
          <button class="tool" data-cmd="align-center">↔</button>
          <button class="tool" data-cmd="align-right">→</button>
          <button class="tool" data-cmd="align-justify">▤</button>
        </div>
        <div class="group">
          <button class="tool" data-insert="|">|</button>
          <button class="tool" data-insert="·">·</button>
        </div>
      </div>

      <div id="editor" class="editor" contenteditable="true"></div>
    </div>

    <div class="actions">
      <button id="btn-bigger">Zväčšiť písmo</button>
      <button id="btn-dys">Zapnúť/Vypnúť font pre dyslektikov</button>
      <button id="btn-pdf">Exportovať text ako .pdf</button>
      <button id="btn-clear">Vymazať uložený text</button>
    </div>

    <div style="margin-top: 12px;">
      <label for="lineHeight">Výška riadka:</label>
      <select id="lineHeight">
        <option value="1.2">1.2</option>
        <option value="1.5" selected>1.5</option>
        <option value="1.8">1.8</option>
        <option value="2.0">2.0</option>
		<option value="2.2">2.2</option>
		<option value="2.5">2.5</option>
      </select>
    </div>

    <div style="margin-top: 12px;">
      <label for="letterSpacing">Medzery medzi písmenami:</label>
      <select id="letterSpacing">
        <option value="normal" selected>Normálna</option>
        <option value="0.05em">0.05em</option>
        <option value="0.1em">0.1em</option>
        <option value="0.15em">0.15em</option>
        <option value="0.2em">0.2em</option>
		<option value="0.25em">0.25em</option>
		<option value="0.3em">0.3em</option>
      </select>
    </div>
  </div>

  <script>
    const editor = document.getElementById('editor');
    const STORAGE_KEY = 'editorText';

    // Načítať uložený text
    window.addEventListener('DOMContentLoaded', () => {
      const saved = localStorage.getItem(STORAGE_KEY);
      if (saved) {
        editor.innerHTML = saved;
      }
    });

    // Ukladať text pri zmene
    editor.addEventListener('input', () => {
      localStorage.setItem(STORAGE_KEY, editor.innerHTML);
    });

    // Formátovanie
    document.querySelectorAll('[data-format]').forEach(btn => {
      btn.addEventListener('click', () => {
        const cmd = btn.getAttribute('data-format');
        document.execCommand(cmd, false, null);
        editor.focus();
      });
    });

    // Zarovnanie
    function setAlignment(alignment) {
      editor.style.textAlign = alignment;
    }

    document.querySelectorAll('[data-cmd]').forEach(btn => {
      btn.addEventListener('click', () => {
        const cmd = btn.getAttribute('data-cmd');
        if (cmd === 'align-left') setAlignment('left');
        if (cmd === 'align-center') setAlignment('center');
        if (cmd === 'align-right') setAlignment('right');
        if (cmd === 'align-justify') setAlignment('justify');
      });
    });

    // Vkladanie znakov
    function insertAtCaret(text) {
      const sel = window.getSelection();
      if (!sel.rangeCount) return;
      const range = sel.getRangeAt(0);
      range.deleteContents();
      range.insertNode(document.createTextNode(text));
      range.collapse(false);
      sel.removeAllRanges();
      sel.addRange(range);
    }

    document.querySelectorAll('[data-insert]').forEach(btn => {
      btn.addEventListener('click', () => {
        insertAtCaret(btn.getAttribute('data-insert'));
        editor.focus();
      });
    });

    // Zväčšiť písmo
    document.getElementById('btn-bigger').addEventListener('click', () => {
      const currentSize = parseFloat(window.getComputedStyle(editor).fontSize);
      editor.style.fontSize = (currentSize + 2) + 'px';
    });

    // Dyslektický font
    document.getElementById('btn-dys').addEventListener('click', () => {
      document.body.classList.toggle('dyslexic');
    });

  // Export do PDF
  document.getElementById('btn-pdf').addEventListener('click', () => {
    window.print();
  });

  // Vymazanie uloženého textu
  document.getElementById('btn-clear').addEventListener('click', () => {
    localStorage.removeItem(STORAGE_KEY);
    editor.innerHTML = '';
  });

  // Výška riadka
  document.getElementById('lineHeight').addEventListener('change', (e) => {
    editor.style.lineHeight = e.target.value;
  });

  // Medzery medzi písmenami
  document.getElementById('letterSpacing').addEventListener('change', (e) => {
    editor.style.letterSpacing = e.target.value;
  });
</script>
<br><br>
  <b>Spracovala pomocou UI:</b> Mgr. Erika Matyiová (2025)
<br><br>
</body>
</html>